; Listing generated by Microsoft (R) Optimizing Compiler Version 16.00.30319.01 

	TITLE	C:\Users\faelhs\mu-1.1\eMu - GameServer Sapphire S0\GameServer\AttackEvent.cpp
	.686P
	.XMM
	include listing.inc
	.model	flat

INCLUDELIB LIBCMT
INCLUDELIB OLDNAMES

PUBLIC	??_7CAttackEvent@@6B@				; CAttackEvent::`vftable'
PUBLIC	??1CAttackEvent@@UAE@XZ				; CAttackEvent::~CAttackEvent
PUBLIC	??_R4CAttackEvent@@6B@				; CAttackEvent::`RTTI Complete Object Locator'
PUBLIC	??_R0?AVCAttackEvent@@@8			; CAttackEvent `RTTI Type Descriptor'
PUBLIC	??_R3CAttackEvent@@8				; CAttackEvent::`RTTI Class Hierarchy Descriptor'
PUBLIC	??_R2CAttackEvent@@8				; CAttackEvent::`RTTI Base Class Array'
PUBLIC	??_R1A@?0A@EA@CAttackEvent@@8			; CAttackEvent::`RTTI Base Class Descriptor at (0,-1,0,64)'
EXTRN	??_7type_info@@6B@:QWORD			; type_info::`vftable'
EXTRN	??_ECAttackEvent@@UAEPAXI@Z:PROC		; CAttackEvent::`vector deleting destructor'
;	COMDAT ??_R1A@?0A@EA@CAttackEvent@@8
; File c:\users\faelhs\mu-1.1\emu - gameserver sapphire s0\gameserver\attackevent.cpp
rdata$r	SEGMENT
??_R1A@?0A@EA@CAttackEvent@@8 DD FLAT:??_R0?AVCAttackEvent@@@8 ; CAttackEvent::`RTTI Base Class Descriptor at (0,-1,0,64)'
	DD	00H
	DD	00H
	DD	0ffffffffH
	DD	00H
	DD	040H
	DD	FLAT:??_R3CAttackEvent@@8
rdata$r	ENDS
;	COMDAT ??_R2CAttackEvent@@8
rdata$r	SEGMENT
??_R2CAttackEvent@@8 DD FLAT:??_R1A@?0A@EA@CAttackEvent@@8 ; CAttackEvent::`RTTI Base Class Array'
rdata$r	ENDS
;	COMDAT ??_R3CAttackEvent@@8
rdata$r	SEGMENT
??_R3CAttackEvent@@8 DD 00H				; CAttackEvent::`RTTI Class Hierarchy Descriptor'
	DD	00H
	DD	01H
	DD	FLAT:??_R2CAttackEvent@@8
rdata$r	ENDS
;	COMDAT ??_R0?AVCAttackEvent@@@8
_DATA	SEGMENT
??_R0?AVCAttackEvent@@@8 DD FLAT:??_7type_info@@6B@	; CAttackEvent `RTTI Type Descriptor'
	DD	00H
	DB	'.?AVCAttackEvent@@', 00H
_DATA	ENDS
;	COMDAT ??_R4CAttackEvent@@6B@
rdata$r	SEGMENT
??_R4CAttackEvent@@6B@ DD 00H				; CAttackEvent::`RTTI Complete Object Locator'
	DD	00H
	DD	00H
	DD	FLAT:??_R0?AVCAttackEvent@@@8
	DD	FLAT:??_R3CAttackEvent@@8
rdata$r	ENDS
;	COMDAT ??_7CAttackEvent@@6B@
CONST	SEGMENT
??_7CAttackEvent@@6B@ DD FLAT:??_R4CAttackEvent@@6B@	; CAttackEvent::`vftable'
	DD	FLAT:??_ECAttackEvent@@UAEPAXI@Z
; Function compile flags: /Ogtp
CONST	ENDS
;	COMDAT ??1CAttackEvent@@UAE@XZ
_TEXT	SEGMENT
??1CAttackEvent@@UAE@XZ PROC				; CAttackEvent::~CAttackEvent, COMDAT
; _this$ = ecx

; 22   : {

  00000	c7 01 00 00 00
	00		 mov	 DWORD PTR [ecx], OFFSET ??_7CAttackEvent@@6B@

; 23   : 	return;
; 24   : }

  00006	c3		 ret	 0
??1CAttackEvent@@UAE@XZ ENDP				; CAttackEvent::~CAttackEvent
_TEXT	ENDS
PUBLIC	?Init@CAttackEvent@@QAEXXZ			; CAttackEvent::Init
EXTRN	__imp__GetTickCount@0:PROC
; Function compile flags: /Ogtp
;	COMDAT ?Init@CAttackEvent@@QAEXXZ
_TEXT	SEGMENT
?Init@CAttackEvent@@QAEXXZ PROC				; CAttackEvent::Init, COMDAT
; _this$ = ecx

; 27   : {

  00000	56		 push	 esi
  00001	8b f1		 mov	 esi, ecx

; 28   : 	this->EventState = false;

  00003	c6 46 04 00	 mov	 BYTE PTR [esi+4], 0

; 29   : 	this->EventStartTime = GetTickCount();

  00007	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetTickCount@0
  0000d	89 46 08	 mov	 DWORD PTR [esi+8], eax

; 30   : 	this->m_MapNumber = MAP_INDEX_LORENCIA;

  00010	c6 46 0c 00	 mov	 BYTE PTR [esi+12], 0
  00014	5e		 pop	 esi

; 31   : }

  00015	c3		 ret	 0
?Init@CAttackEvent@@QAEXXZ ENDP				; CAttackEvent::Init
_TEXT	ENDS
PUBLIC	?Start@CAttackEvent@@QAEXXZ			; CAttackEvent::Start
; Function compile flags: /Ogtp
;	COMDAT ?Start@CAttackEvent@@QAEXXZ
_TEXT	SEGMENT
?Start@CAttackEvent@@QAEXXZ PROC			; CAttackEvent::Start, COMDAT
; _this$ = ecx

; 35   : {

  00000	56		 push	 esi
  00001	8b f1		 mov	 esi, ecx

; 36   : 	this->EventState = true;

  00003	c6 46 04 01	 mov	 BYTE PTR [esi+4], 1

; 37   : 	this->EventStartTime = GetTickCount();

  00007	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetTickCount@0
  0000d	89 46 08	 mov	 DWORD PTR [esi+8], eax
  00010	5e		 pop	 esi

; 38   : }

  00011	c3		 ret	 0
?Start@CAttackEvent@@QAEXXZ ENDP			; CAttackEvent::Start
_TEXT	ENDS
PUBLIC	?End@CAttackEvent@@QAEXXZ			; CAttackEvent::End
; Function compile flags: /Ogtp
;	COMDAT ?End@CAttackEvent@@QAEXXZ
_TEXT	SEGMENT
?End@CAttackEvent@@QAEXXZ PROC				; CAttackEvent::End, COMDAT
; _this$ = ecx

; 42   : 	return;
; 43   : }

  00000	c3		 ret	 0
?End@CAttackEvent@@QAEXXZ ENDP				; CAttackEvent::End
_TEXT	ENDS
PUBLIC	?Run@CAttackEvent@@QAEXXZ			; CAttackEvent::Run
; Function compile flags: /Ogtp
;	COMDAT ?Run@CAttackEvent@@QAEXXZ
_TEXT	SEGMENT
?Run@CAttackEvent@@QAEXXZ PROC				; CAttackEvent::Run, COMDAT
; _this$ = ecx

; 48   : 	return;
; 49   : }

  00000	c3		 ret	 0
?Run@CAttackEvent@@QAEXXZ ENDP				; CAttackEvent::Run
_TEXT	ENDS
PUBLIC	??_C@_0BH@PHJBIBLO@event?5?$CFd?5?$CFd?5?$CFd?5create?5?$AA@ ; `string'
PUBLIC	?Active@CAttackEvent@@QAEXXZ			; CAttackEvent::Active
EXTRN	?LogAdd@@YAXW4eLogColor@@PADZZ:PROC		; LogAdd
EXTRN	?GetBoxPosition@CMonsterSetBase@@QAEHHHHHHAAF0@Z:PROC ; CMonsterSetBase::GetBoxPosition
EXTRN	?gMSetBase@@3VCMonsterSetBase@@A:BYTE		; gMSetBase
EXTRN	_rand:PROC
EXTRN	?gObj@@3PAUOBJECTSTRUCT@@A:BYTE			; gObj
;	COMDAT ??_C@_0BH@PHJBIBLO@event?5?$CFd?5?$CFd?5?$CFd?5create?5?$AA@
CONST	SEGMENT
??_C@_0BH@PHJBIBLO@event?5?$CFd?5?$CFd?5?$CFd?5create?5?$AA@ DB 'event %d'
	DB	' %d %d create ', 00H			; `string'
; Function compile flags: /Ogtp
CONST	ENDS
;	COMDAT ?Active@CAttackEvent@@QAEXXZ
_TEXT	SEGMENT
?Active@CAttackEvent@@QAEXXZ PROC			; CAttackEvent::Active, COMDAT
; _this$ = ecx

; 52   : {

  00000	53		 push	 ebx
  00001	56		 push	 esi
  00002	57		 push	 edi
  00003	8b f1		 mov	 esi, ecx

; 53   : 	for ( int n = 0; n < OBJ_MAXMONSTER ; n++ )

  00005	bf 98 00 00 00	 mov	 edi, OFFSET ?gObj@@3PAUOBJECTSTRUCT@@A+152
  0000a	8d 9b 00 00 00
	00		 npad	 6
$LL22@Active:

; 54   : 	{
; 55   : 		if ( gObj[n].Class == 53 || gObj[n].Class == 54 )	// Golden Titan + Golden Soldier

  00010	0f b7 07	 movzx	 eax, WORD PTR [edi]
  00013	83 f8 35	 cmp	 eax, 53			; 00000035H
  00016	0f 84 d9 00 00
	00		 je	 $LN18@Active
  0001c	83 f8 36	 cmp	 eax, 54			; 00000036H
  0001f	0f 84 d0 00 00
	00		 je	 $LN18@Active

; 94   : 			
; 95   : 		}
; 96   : 		else if ( gObj[n].Class == 55 || gObj[n].Class == 56 )	// Death Bone + Death King

  00025	83 f8 37	 cmp	 eax, 55			; 00000037H
  00028	74 09		 je	 SHORT $LN9@Active
  0002a	83 f8 38	 cmp	 eax, 56			; 00000038H
  0002d	0f 85 a0 01 00
	00		 jne	 $LN21@Active
$LN9@Active:

; 97   : 		{
; 98   : 			gObj[n].Live = TRUE;

  00033	c6 47 ca 01	 mov	 BYTE PTR [edi-54], 1

; 99   : 
; 100  : 			if ( gObj[n].Class == 55 )

  00037	83 f8 37	 cmp	 eax, 55			; 00000037H
  0003a	75 7a		 jne	 SHORT $LN8@Active

; 101  : 			{
; 102  : 				if ( (rand() % 2 ) == 0 )

  0003c	e8 00 00 00 00	 call	 _rand
  00041	25 01 00 00 80	 and	 eax, -2147483647	; 80000001H
  00046	79 05		 jns	 SHORT $LN31@Active
  00048	48		 dec	 eax
  00049	83 c8 fe	 or	 eax, -2			; fffffffeH
  0004c	40		 inc	 eax
$LN31@Active:
  0004d	75 06		 jne	 SHORT $LN7@Active

; 103  : 				{
; 104  : 					this->m_MapNumber = MAP_INDEX_LORENCIA;

  0004f	c6 46 0c 00	 mov	 BYTE PTR [esi+12], 0

; 105  : 				}
; 106  : 				else

  00053	eb 04		 jmp	 SHORT $LN6@Active
$LN7@Active:

; 107  : 				{
; 108  : 					this->m_MapNumber = MAP_INDEX_NORIA;

  00055	c6 46 0c 03	 mov	 BYTE PTR [esi+12], 3
$LN6@Active:

; 109  : 				}
; 110  : 
; 111  : 				gObj[n].MapNumber = this->m_MapNumber;

  00059	8a 46 0c	 mov	 al, BYTE PTR [esi+12]
  0005c	88 47 71	 mov	 BYTE PTR [edi+113], al

; 115  : 				{
; 116  : 
; 117  : 				}
; 118  : 
; 119  : 				this->m_BossMap55 = gObj[n].MapNumber;

  0005f	8d 5f 6e	 lea	 ebx, DWORD PTR [edi+110]
$LL5@Active:

; 112  : 
; 113  : 
; 114  : 				while ( gMSetBase.GetBoxPosition(this->m_MapNumber, 10, 10, 240, 240, gObj[n].X, gObj[n].Y) == 0 )

  00062	0f b6 4e 0c	 movzx	 ecx, BYTE PTR [esi+12]
  00066	53		 push	 ebx
  00067	8d 47 6c	 lea	 eax, DWORD PTR [edi+108]
  0006a	50		 push	 eax
  0006b	68 f0 00 00 00	 push	 240			; 000000f0H
  00070	68 f0 00 00 00	 push	 240			; 000000f0H
  00075	6a 0a		 push	 10			; 0000000aH
  00077	6a 0a		 push	 10			; 0000000aH
  00079	51		 push	 ecx
  0007a	b9 00 00 00 00	 mov	 ecx, OFFSET ?gMSetBase@@3VCMonsterSetBase@@A ; gMSetBase
  0007f	e8 00 00 00 00	 call	 ?GetBoxPosition@CMonsterSetBase@@QAEHHHHHHAAF0@Z ; CMonsterSetBase::GetBoxPosition
  00084	85 c0		 test	 eax, eax
  00086	74 da		 je	 SHORT $LL5@Active

; 115  : 				{
; 116  : 
; 117  : 				}
; 118  : 
; 119  : 				this->m_BossMap55 = gObj[n].MapNumber;

  00088	0f b6 57 71	 movzx	 edx, BYTE PTR [edi+113]
  0008c	89 56 10	 mov	 DWORD PTR [esi+16], edx

; 120  : 				this->m_BossMapX55 = gObj[n].X;

  0008f	0f bf 47 6c	 movsx	 eax, WORD PTR [edi+108]
  00093	89 46 14	 mov	 DWORD PTR [esi+20], eax

; 121  : 				this->m_BossMapY55 = gObj[n].Y;

  00096	0f bf 03	 movsx	 eax, WORD PTR [ebx]

; 122  : 				LogAdd(LOG_BLACK, "event %d %d %d create ", this->m_BossMap55, this->m_BossMapX55, this->m_BossMapY55 );

  00099	8b 4e 14	 mov	 ecx, DWORD PTR [esi+20]
  0009c	50		 push	 eax
  0009d	51		 push	 ecx
  0009e	52		 push	 edx
  0009f	68 00 00 00 00	 push	 OFFSET ??_C@_0BH@PHJBIBLO@event?5?$CFd?5?$CFd?5?$CFd?5create?5?$AA@
  000a4	6a 00		 push	 0
  000a6	89 46 18	 mov	 DWORD PTR [esi+24], eax
  000a9	e8 00 00 00 00	 call	 ?LogAdd@@YAXW4eLogColor@@PADZZ ; LogAdd
  000ae	83 c4 14	 add	 esp, 20			; 00000014H

; 123  : 			}
; 124  : 			else

  000b1	e9 df 00 00 00	 jmp	 $LN12@Active
$LN8@Active:

; 125  : 			{
; 126  : 				this->m_MapNumber = this->m_BossMap55;

  000b6	8a 46 10	 mov	 al, BYTE PTR [esi+16]
  000b9	88 46 0c	 mov	 BYTE PTR [esi+12], al

; 127  : 				gObj[n].MapNumber = this->m_MapNumber;

  000bc	88 47 71	 mov	 BYTE PTR [edi+113], al

; 131  : 				{
; 132  : 
; 133  : 				}
; 134  : 			}
; 135  : 
; 136  : 			gObj[n].TX = gObj[n].X;

  000bf	8d 5f 6e	 lea	 ebx, DWORD PTR [edi+110]
$LL2@Active:

; 128  : 
; 129  : 
; 130  : 				while (	gMSetBase.GetBoxPosition(this->m_MapNumber, this->m_BossMapX55 -4, this->m_BossMapY55-4, this->m_BossMapX55+4, this->m_BossMapY55+4, gObj[n].X, gObj[n].Y) == 0 )

  000c2	8b 46 18	 mov	 eax, DWORD PTR [esi+24]
  000c5	8b 4e 14	 mov	 ecx, DWORD PTR [esi+20]
  000c8	53		 push	 ebx
  000c9	8d 57 6c	 lea	 edx, DWORD PTR [edi+108]
  000cc	52		 push	 edx
  000cd	8d 50 04	 lea	 edx, DWORD PTR [eax+4]
  000d0	52		 push	 edx
  000d1	8d 51 04	 lea	 edx, DWORD PTR [ecx+4]
  000d4	52		 push	 edx
  000d5	83 c0 fc	 add	 eax, -4			; fffffffcH
  000d8	50		 push	 eax
  000d9	0f b6 46 0c	 movzx	 eax, BYTE PTR [esi+12]
  000dd	83 c1 fc	 add	 ecx, -4			; fffffffcH
  000e0	51		 push	 ecx
  000e1	50		 push	 eax
  000e2	b9 00 00 00 00	 mov	 ecx, OFFSET ?gMSetBase@@3VCMonsterSetBase@@A ; gMSetBase
  000e7	e8 00 00 00 00	 call	 ?GetBoxPosition@CMonsterSetBase@@QAEHHHHHHAAF0@Z ; CMonsterSetBase::GetBoxPosition
  000ec	85 c0		 test	 eax, eax
  000ee	74 d2		 je	 SHORT $LL2@Active

; 137  : 			gObj[n].TY = gObj[n].Y;
; 138  : 			gObj[n].MTX = gObj[n].X;
; 139  : 			gObj[n].MTY = gObj[n].Y;
; 140  : 			gObj[n].StartX = gObj[n].X;
; 141  : 			gObj[n].StartY = gObj[n].Y;
; 142  : 			gObj[n].m_State = 1;

  000f0	e9 a0 00 00 00	 jmp	 $LN12@Active
$LN18@Active:

; 56   : 		{
; 57   : 			gObj[n].Live = true;

  000f5	c6 47 ca 01	 mov	 BYTE PTR [edi-54], 1

; 65   : 				{
; 66   : 
; 67   : 				}
; 68   : 
; 69   : 				this->m_BossMap53 = gObj[n].MapNumber;

  000f9	8d 5f 6e	 lea	 ebx, DWORD PTR [edi+110]
  000fc	83 f8 35	 cmp	 eax, 53			; 00000035H
  000ff	75 5d		 jne	 SHORT $LN17@Active

; 58   : 
; 59   : 			if ( gObj[n].Class == 53 )
; 60   : 			{
; 61   : 				this->m_MapNumber = MAP_INDEX_DEVIAS;
; 62   : 				gObj[n].MapNumber = this->m_MapNumber;

  00101	c6 46 0c 02	 mov	 BYTE PTR [esi+12], 2
  00105	c6 47 71 02	 mov	 BYTE PTR [edi+113], 2
  00109	8d a4 24 00 00
	00 00		 npad	 7
$LL16@Active:

; 63   : 
; 64   : 				while (	gMSetBase.GetBoxPosition(this->m_MapNumber, 10, 10, 240, 240, gObj[n].X, gObj[n].Y) == 0 )

  00110	53		 push	 ebx
  00111	8d 47 6c	 lea	 eax, DWORD PTR [edi+108]
  00114	50		 push	 eax
  00115	0f b6 46 0c	 movzx	 eax, BYTE PTR [esi+12]
  00119	68 f0 00 00 00	 push	 240			; 000000f0H
  0011e	68 f0 00 00 00	 push	 240			; 000000f0H
  00123	6a 0a		 push	 10			; 0000000aH
  00125	6a 0a		 push	 10			; 0000000aH
  00127	50		 push	 eax
  00128	b9 00 00 00 00	 mov	 ecx, OFFSET ?gMSetBase@@3VCMonsterSetBase@@A ; gMSetBase
  0012d	e8 00 00 00 00	 call	 ?GetBoxPosition@CMonsterSetBase@@QAEHHHHHHAAF0@Z ; CMonsterSetBase::GetBoxPosition
  00132	85 c0		 test	 eax, eax
  00134	74 da		 je	 SHORT $LL16@Active

; 65   : 				{
; 66   : 
; 67   : 				}
; 68   : 
; 69   : 				this->m_BossMap53 = gObj[n].MapNumber;

  00136	0f b6 4f 71	 movzx	 ecx, BYTE PTR [edi+113]
  0013a	89 4e 1c	 mov	 DWORD PTR [esi+28], ecx

; 70   : 				this->m_BossMapX53 = gObj[n].X;

  0013d	0f bf 57 6c	 movsx	 edx, WORD PTR [edi+108]
  00141	89 56 20	 mov	 DWORD PTR [esi+32], edx

; 71   : 				this->m_BossMapY53 = gObj[n].Y;

  00144	0f bf 03	 movsx	 eax, WORD PTR [ebx]

; 72   : 
; 73   : 				LogAdd(LOG_BLACK, "event %d %d %d create ", this->m_BossMap53, this->m_BossMapX53, this->m_BossMapY53);

  00147	50		 push	 eax
  00148	52		 push	 edx
  00149	51		 push	 ecx
  0014a	68 00 00 00 00	 push	 OFFSET ??_C@_0BH@PHJBIBLO@event?5?$CFd?5?$CFd?5?$CFd?5create?5?$AA@
  0014f	6a 00		 push	 0
  00151	89 46 24	 mov	 DWORD PTR [esi+36], eax
  00154	e8 00 00 00 00	 call	 ?LogAdd@@YAXW4eLogColor@@PADZZ ; LogAdd
  00159	83 c4 14	 add	 esp, 20			; 00000014H

; 74   : 
; 75   : 			}
; 76   : 			else

  0015c	eb 37		 jmp	 SHORT $LN12@Active
$LN17@Active:

; 77   : 			{
; 78   : 				this->m_MapNumber = this->m_BossMap53;

  0015e	8a 46 1c	 mov	 al, BYTE PTR [esi+28]
  00161	88 46 0c	 mov	 BYTE PTR [esi+12], al

; 79   : 				gObj[n].MapNumber = this->m_MapNumber;

  00164	88 47 71	 mov	 BYTE PTR [edi+113], al
$LL13@Active:

; 80   : 
; 81   : 				while (	gMSetBase.GetBoxPosition(this->m_MapNumber, this->m_BossMapX53 -4, this->m_BossMapY53-4, this->m_BossMapX53+4, this->m_BossMapY53+4, gObj[n].X, gObj[n].Y) == 0 )

  00167	8b 46 24	 mov	 eax, DWORD PTR [esi+36]
  0016a	8b 4e 20	 mov	 ecx, DWORD PTR [esi+32]
  0016d	53		 push	 ebx
  0016e	8d 57 6c	 lea	 edx, DWORD PTR [edi+108]
  00171	52		 push	 edx
  00172	8d 50 04	 lea	 edx, DWORD PTR [eax+4]
  00175	52		 push	 edx
  00176	8d 51 04	 lea	 edx, DWORD PTR [ecx+4]
  00179	52		 push	 edx
  0017a	83 c0 fc	 add	 eax, -4			; fffffffcH
  0017d	50		 push	 eax
  0017e	0f b6 46 0c	 movzx	 eax, BYTE PTR [esi+12]
  00182	83 c1 fc	 add	 ecx, -4			; fffffffcH
  00185	51		 push	 ecx
  00186	50		 push	 eax
  00187	b9 00 00 00 00	 mov	 ecx, OFFSET ?gMSetBase@@3VCMonsterSetBase@@A ; gMSetBase
  0018c	e8 00 00 00 00	 call	 ?GetBoxPosition@CMonsterSetBase@@QAEHHHHHHAAF0@Z ; CMonsterSetBase::GetBoxPosition
  00191	85 c0		 test	 eax, eax
  00193	74 d2		 je	 SHORT $LL13@Active
$LN12@Active:

; 82   : 				{
; 83   : 
; 84   : 				}
; 85   : 			}
; 86   : 				
; 87   : 			gObj[n].TX = gObj[n].X;
; 88   : 			gObj[n].TY = gObj[n].Y;

  00195	0f b7 0b	 movzx	 ecx, WORD PTR [ebx]
  00198	0f b7 47 6c	 movzx	 eax, WORD PTR [edi+108]

; 89   : 			gObj[n].MTX = gObj[n].X;
; 90   : 			gObj[n].MTY = gObj[n].Y;
; 91   : 			gObj[n].StartX = gObj[n].X;
; 92   : 			gObj[n].StartY = gObj[n].Y;

  0019c	8a 13		 mov	 dl, BYTE PTR [ebx]
  0019e	66 89 8f 8a 00
	00 00		 mov	 WORD PTR [edi+138], cx
  001a5	66 89 8f 8e 00
	00 00		 mov	 WORD PTR [edi+142], cx
  001ac	8a 4f 6c	 mov	 cl, BYTE PTR [edi+108]

; 93   : 			gObj[n].m_State = 1;

  001af	c7 87 24 01 00
	00 01 00 00 00	 mov	 DWORD PTR [edi+292], 1
  001b9	88 97 83 00 00
	00		 mov	 BYTE PTR [edi+131], dl
  001bf	88 8f 82 00 00
	00		 mov	 BYTE PTR [edi+130], cl
  001c5	66 89 87 8c 00
	00 00		 mov	 WORD PTR [edi+140], ax
  001cc	66 89 87 88 00
	00 00		 mov	 WORD PTR [edi+136], ax
$LN21@Active:

; 53   : 	for ( int n = 0; n < OBJ_MAXMONSTER ; n++ )

  001d3	81 c7 64 15 00
	00		 add	 edi, 5476		; 00001564H
  001d9	81 ff 38 a2 e4
	01		 cmp	 edi, OFFSET ?gObj@@3PAUOBJECTSTRUCT@@A+31760952
  001df	0f 8c 2b fe ff
	ff		 jl	 $LL22@Active

; 143  : 			
; 144  : 		}
; 145  : 	}
; 146  : }

  001e5	5f		 pop	 edi
  001e6	5e		 pop	 esi
  001e7	5b		 pop	 ebx
  001e8	c3		 ret	 0
?Active@CAttackEvent@@QAEXXZ ENDP			; CAttackEvent::Active
_TEXT	ENDS
PUBLIC	?SetMenualStart@CAttackEvent@@QAEXH@Z		; CAttackEvent::SetMenualStart
; Function compile flags: /Ogtp
; File c:\users\faelhs\mu-1.1\emu - gameserver sapphire s0\gameserver\attackevent.h
;	COMDAT ?SetMenualStart@CAttackEvent@@QAEXH@Z
_TEXT	SEGMENT
_bMenualStart$ = 8					; size = 4
?SetMenualStart@CAttackEvent@@QAEXH@Z PROC		; CAttackEvent::SetMenualStart, COMDAT
; _this$ = ecx

; 26   : 	void SetMenualStart(BOOL bMenualStart){this->m_bMenualStart = bMenualStart;};	// line : 39

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	8b 45 08	 mov	 eax, DWORD PTR _bMenualStart$[ebp]
  00006	89 41 28	 mov	 DWORD PTR [ecx+40], eax
  00009	5d		 pop	 ebp
  0000a	c2 04 00	 ret	 4
?SetMenualStart@CAttackEvent@@QAEXH@Z ENDP		; CAttackEvent::SetMenualStart
_TEXT	ENDS
PUBLIC	??0CAttackEvent@@QAE@XZ				; CAttackEvent::CAttackEvent
; Function compile flags: /Ogtp
; File c:\users\faelhs\mu-1.1\emu - gameserver sapphire s0\gameserver\attackevent.cpp
;	COMDAT ??0CAttackEvent@@QAE@XZ
_TEXT	SEGMENT
??0CAttackEvent@@QAE@XZ PROC				; CAttackEvent::CAttackEvent, COMDAT
; _this$ = ecx

; 16   : {

  00000	56		 push	 esi
  00001	8b f1		 mov	 esi, ecx
  00003	c7 06 00 00 00
	00		 mov	 DWORD PTR [esi], OFFSET ??_7CAttackEvent@@6B@

; 17   : 	this->Init();

  00009	e8 00 00 00 00	 call	 ?Init@CAttackEvent@@QAEXXZ ; CAttackEvent::Init

; 18   : }

  0000e	8b c6		 mov	 eax, esi
  00010	5e		 pop	 esi
  00011	c3		 ret	 0
??0CAttackEvent@@QAE@XZ ENDP				; CAttackEvent::CAttackEvent
_TEXT	ENDS
EXTRN	??3@YAXPAX@Z:PROC				; operator delete
; Function compile flags: /Ogtp
;	COMDAT ??_GCAttackEvent@@UAEPAXI@Z
_TEXT	SEGMENT
___flags$ = 8						; size = 4
??_GCAttackEvent@@UAEPAXI@Z PROC			; CAttackEvent::`scalar deleting destructor', COMDAT
; _this$ = ecx
  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	56		 push	 esi
  00004	8b f1		 mov	 esi, ecx
  00006	e8 00 00 00 00	 call	 ??1CAttackEvent@@UAE@XZ	; CAttackEvent::~CAttackEvent
  0000b	f6 45 08 01	 test	 BYTE PTR ___flags$[ebp], 1
  0000f	74 09		 je	 SHORT $LN4@scalar
  00011	56		 push	 esi
  00012	e8 00 00 00 00	 call	 ??3@YAXPAX@Z		; operator delete
  00017	83 c4 04	 add	 esp, 4
$LN4@scalar:
  0001a	8b c6		 mov	 eax, esi
  0001c	5e		 pop	 esi
  0001d	5d		 pop	 ebp
  0001e	c2 04 00	 ret	 4
??_GCAttackEvent@@UAEPAXI@Z ENDP			; CAttackEvent::`scalar deleting destructor'
_TEXT	ENDS
PUBLIC	??_C@_0CN@HDIFLHJI@?$KB?$NL?$KB?$NM?$FLEvent?5Management?$FN?5?$FLStart?$FN?5A@ ; `string'
PUBLIC	?Start_Menual@CAttackEvent@@QAEXXZ		; CAttackEvent::Start_Menual
;	COMDAT ??_C@_0CN@HDIFLHJI@?$KB?$NL?$KB?$NM?$FLEvent?5Management?$FN?5?$FLStart?$FN?5A@
; File c:\users\faelhs\mu-1.1\emu - gameserver sapphire s0\gameserver\attackevent.h
CONST	SEGMENT
??_C@_0CN@HDIFLHJI@?$KB?$NL?$KB?$NM?$FLEvent?5Management?$FN?5?$FLStart?$FN?5A@ DB 0a1H
	DB	0dbH, 0a1H, 0dcH, '[Event Management] [Start] Attack Event!', 00H ; `string'
; Function compile flags: /Ogtp
; File c:\users\faelhs\mu-1.1\emu - gameserver sapphire s0\gameserver\attackevent.cpp
CONST	ENDS
;	COMDAT ?Start_Menual@CAttackEvent@@QAEXXZ
_TEXT	SEGMENT
?Start_Menual@CAttackEvent@@QAEXXZ PROC			; CAttackEvent::Start_Menual, COMDAT
; _this$ = ecx

; 151  : {

  00000	56		 push	 esi
  00001	8b f1		 mov	 esi, ecx

; 152  : 	this->SetMenualStart(TRUE);
; 153  : 
; 154  : 	LogAdd(LOG_BLACK, "¡Û¡Ü[Event Management] [Start] Attack Event!");	// Deathway translation here M-[Event Management] [Start] Attack Event! 

  00003	68 00 00 00 00	 push	 OFFSET ??_C@_0CN@HDIFLHJI@?$KB?$NL?$KB?$NM?$FLEvent?5Management?$FN?5?$FLStart?$FN?5A@
  00008	6a 00		 push	 0
  0000a	c7 46 28 01 00
	00 00		 mov	 DWORD PTR [esi+40], 1
  00011	e8 00 00 00 00	 call	 ?LogAdd@@YAXW4eLogColor@@PADZZ ; LogAdd
  00016	83 c4 08	 add	 esp, 8

; 155  : 	this->EventState= false;
; 156  : 	this->Start();

  00019	8b ce		 mov	 ecx, esi
  0001b	c6 46 04 00	 mov	 BYTE PTR [esi+4], 0
  0001f	e8 00 00 00 00	 call	 ?Start@CAttackEvent@@QAEXXZ ; CAttackEvent::Start

; 157  : 	this->Active();

  00024	8b ce		 mov	 ecx, esi
  00026	5e		 pop	 esi
  00027	e9 00 00 00 00	 jmp	 ?Active@CAttackEvent@@QAEXXZ ; CAttackEvent::Active
?Start_Menual@CAttackEvent@@QAEXXZ ENDP			; CAttackEvent::Start_Menual
_TEXT	ENDS
PUBLIC	?End_Menual@CAttackEvent@@QAEXXZ		; CAttackEvent::End_Menual
; Function compile flags: /Ogtp
;	COMDAT ?End_Menual@CAttackEvent@@QAEXXZ
_TEXT	SEGMENT
?End_Menual@CAttackEvent@@QAEXXZ PROC			; CAttackEvent::End_Menual, COMDAT
; _this$ = ecx

; 166  : 	this->SetMenualStart(FALSE);

  00000	c7 41 28 00 00
	00 00		 mov	 DWORD PTR [ecx+40], 0

; 167  : 	this->End();
; 168  : }

  00007	c3		 ret	 0
?End_Menual@CAttackEvent@@QAEXXZ ENDP			; CAttackEvent::End_Menual
_TEXT	ENDS
END
